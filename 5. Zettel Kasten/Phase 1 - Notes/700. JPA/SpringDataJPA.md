### JPA
* JPA( Java persistence API) 는 자바 ORM기술에 대한 API 표준. ORM이란 'Object Relational Mapping'의 약자로 객체와 관계형 데이터베이스를 매핑해주는 것을 말한다.
#### JPA 사용 시 장점
* 특정 데이터베이스에 종속되지 않음
* 객체지향적 프로그래밍
  * JPA를 사용하면 데이터베이스 설계 중심의 패러다임에서 객체지향적으로 설계가 가능하다. 이를 통해 좀 더 직관적이고 비즈니스 로직에 집중할 수 있다.
* 생상성 향상
  * 데이터베이스 테이블에 새로운 컬럼이 추가되었을 경우, 해당 테이블의 컬럼을 사용하는 DTO 클래스의 필드도 모두 변경해야 한다. 하지만 JPA에서는 테이블과 매핑된 클래스에 필드만 추가하다면 쉽게 관리가 가능하다. 또한 SQL문을 직접 작성하지 않고 객체를 사용하여 동작하기 때문에 유지보수 측면에서 좋고 재사용성도 증가합니다.

#### JPA 사용 시 단점
* 복잡한 쿼리 처리
* 성능 저하 위험
  * 객체 간의 매핑 설계를 잘못했을 때 성능 저하가 발생할 수 있다. 자동으로 생성되는 쿼리가 많기 때문에 개발자가 의도하지 않는 쿼리로 인해 성능이 저하되기도 한다.
* 학습 시간
  * JPA를 제대로 사용하려면 알아야 할 것이 많아서 학습하는 데 시간이 오래걸린다.
  * 관계형 데이터베이스를 충분히 알아야 JPA를 잘 사용할 수 있다.

#### JPA 동작 방식
* 엔티티 [ Entity ]
  * 데이터베이스에 item 테이블을 만들고, 이에 대응되는 Item.java 클래스를 만들어서 @Entity 어노테이션을 붙으면 이 클래스가 엔티티가 되는 것이다. 클래스 자체나 생성한 인스턴스도 엔티티라고 부른다.
* 엔티티 매니저 팩토리
  * 인스턴스를 관리하는 주체
  * 애플리케이션 실행 시 한 개만 만들어지며 사용자로부터 요청이 오면 엔티티 매니저 팩토리로부터 엔티티 매니저를 생성한다.
* 엔티티 매니저
  * 내부적으로 데이터베이스 커넥션을 사용해서 데이터베이스에 접근함. 
* 몇가지 메서드 
  * find() 메소드: 영속성 컨텍스트에서 엔티티를 검색하고 영속성 컨텍스트에 엾을 경우 데이터베이스에서 데이터를 찾아 영속성 컨텍스트에 저장한다.
    * 영속성 컨텍스트란?
      * 엔티티를 영구 저장하는 환경이라는 뜻이다. 애플리케이션과 데이터베이스 사이에서 객체를 보관하는 가상의 데이터베이스 같은 역할을 한다. 엔티티 매니저를 통해 엔티티를 저장하거나 조회하면 엔티티 매니저는 영속성 컨텍스트에 엔티티를 보관하고 관리한다.
      * 나중에 쟈세하게 공부 예정
  * persist() 메소드: 엔티티를 연속성 컨텍스트에 저장합니다.
  * remove() 메소드: 엔티티 클래스를 영속성 컨텍스트에서 삭제합니다.
  * flush() 메소드: 영속성 컨텍스트에 저장된 내용을 데이터베이스에 반영합니다.

#### 영속성 컨텍스트 사용시 이점
* 에플리케이션과 데이터베이스 사이에 영속성 컨텍스트라는 중간 계층을 만들어서 버퍼링, 캐싱 등을 할 수 있는 장점이 있다.
* 동일성 보장
  * 하나의 트랜잭션에서 같은 키값으로 영속성 컨텍스트에 저장된 엔티티 조회 시 같은 엔티티 조회를 보장한다. 바로 1차 캐시에 저장된 엔티티를 조회하기 때문에 가능하다.





