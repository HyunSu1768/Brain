---
aliases:
  - SRE
tags:
  - 문헌메모
  - 완료
---


---


Source : Site Reliability Engineering ( P. 85 )
Author : 
URL :

## 구글 SRE의 가치
### 자동화의 사례
- 사용자 계정 생성
- 서비스를 위한 클러스터 턴업, 턴다운
- 소프트웨어 혹은 하드웨어 설치 준비 및 해제
- 새로운 버전의 소프트웨어 출시
- 런타임 설정 변경
- 특별한 경우의 런타임 설정 변경
이 외에도 자동화의 사례는 엄청나게 다양하다.

### 구글 SRE의 자동화 사례
#### 클러스터 턴업 자동화
구글에서 새로운 클러스터를 준비하기 위한 단계는 다음과 같았다.
1. 데이터센터 건물에 전력과 냉방을 조절한다
2. 핵심 스위치와 백본 연결을 설치하고 조정한다
3. 서버를 위한 기초 랙을 설치한다
4. DNS와 설치관리자 같은 기본 서비스를 설정한 후 잠금 서비스나 저장소, 컴퓨팅 머신 등을 설치한다
5. 나머지 머신들을 랙에 배포한다
6. 팀이 서비스를 설치할 수 있도록 사용자를 위한 서비스 자원을 할당한다.
##### Prodtest를 이용한 모순의 발견
자동으로 클러스터를 생성한 후 실제로 서비스를 사용자에게 제공할 준비가 되었는지 여부를 판단을 올바르게 하지 못했다.
- 서비스가 의존하는 요소들이 모두 사용 가능하며 올바르게 설정되었는가?
- 모든 설정과 패키지가 다른 배포들과 일관되게 구성되어 배포되었는가?
- 모든 예외적인 설정에 대해 해당 팀의 확인을 받았는가?
Prodtest 는 이런 상황에 대비한 해결책 이었다.
파이썬 단위 테스트 프레임워크를 확장해 실제로 운영 중인 서비스에 대한 단위테스트가 가능하도록 하였다.
##### 멱등성을 이용한 모순의 해결
구글은 일주일 내에 5개의 새로운 클러스터 설정을 끝내는 것이었다.
그래서 구글은 테스트코드에 버그를 해결하는 코드를 추가했다.
기존에는 TestDNSMonitoringConfigExists 라는 테스트만 있었다면 지금은 해당 테스트가 실패했을때 버그를 해결하는 스크립트를 추가한 것이다. 이렇게 멱등성 있는 스크립트를 작성하여 새로운 클러스터를 1~2주 안에 구성할 수 있게 되었다.

### Link of Thoughts
Area : #300-DevOps/360-Site-Reliability-Engineering 

Keywords :
- [[SRE]]

Related Notes : 
- 